<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to RT1_Assignment2’s documentation! &mdash; RT1_Assignment2 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=e031e9a9"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            RT1_Assignment2
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Welcome to RT1_Assignment2’s documentation!</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
<li><a class="reference internal" href="#module-scripts.action_client">Action Client</a><ul>
<li><a class="reference internal" href="#scripts.action_client.action"><code class="docutils literal notranslate"><span class="pre">action()</span></code></a></li>
<li><a class="reference internal" href="#scripts.action_client.clbk_feedback"><code class="docutils literal notranslate"><span class="pre">clbk_feedback()</span></code></a></li>
<li><a class="reference internal" href="#scripts.action_client.clbk_odom"><code class="docutils literal notranslate"><span class="pre">clbk_odom()</span></code></a></li>
<li><a class="reference internal" href="#scripts.action_client.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-scripts.last_target_service">Last Target Service</a><ul>
<li><a class="reference internal" href="#scripts.last_target_service.clbk_goal"><code class="docutils literal notranslate"><span class="pre">clbk_goal()</span></code></a></li>
<li><a class="reference internal" href="#scripts.last_target_service.clbk_service"><code class="docutils literal notranslate"><span class="pre">clbk_service()</span></code></a></li>
<li><a class="reference internal" href="#scripts.last_target_service.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-scripts.avg_service">Average Service</a><ul>
<li><a class="reference internal" href="#scripts.avg_service.clbk_avg"><code class="docutils literal notranslate"><span class="pre">clbk_avg()</span></code></a></li>
<li><a class="reference internal" href="#scripts.avg_service.clbk_info"><code class="docutils literal notranslate"><span class="pre">clbk_info()</span></code></a></li>
<li><a class="reference internal" href="#scripts.avg_service.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">RT1_Assignment2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Welcome to RT1_Assignment2’s documentation!</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="welcome-to-rt1-assignment2-s-documentation">
<h1>Welcome to RT1_Assignment2’s documentation!<a class="headerlink" href="#welcome-to-rt1-assignment2-s-documentation" title="Permalink to this heading"></a></h1>
<p>The main task of this assignment is to create a ROS package which must include the following three nodes:</p>
<ol class="arabic simple">
<li><p>A node that implements an action client, allowing the user to set a target (x, y) or to cancel it. Trying to use the feedback/status of the action server to know when the target has been reached. The node also publishes the robot position and velocity as a custom message (x,y, vel_x, vel_z), by relying on the values published on the topic /odom;</p></li>
<li><p>A service node that, when called, returns the coordinates of the last target sent by the user;</p></li>
<li><p>Another service node that subscribes to the robot’s position and velocity (using the custom message) and implements a server to retrieve the distance of the robot from the target and the robot’s average speed.</p></li>
</ol>
<div class="toctree-wrapper compound">
</div>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this heading"></a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
</ul>
</section>
<section id="module-scripts.action_client">
<span id="action-client"></span><h1>Action Client<a class="headerlink" href="#module-scripts.action_client" title="Permalink to this heading"></a></h1>
<p>This node allowing the user to set a target (x,y) or to cancel it. The node also publishes the robot position and velocity as a custom message (x,y,vel_x,vel_z), by relying on the values published on the topic /odom.</p>
<dl class="simple">
<dt>Subscribes to:</dt><dd><p>/odom</p>
</dd>
<dt>Publishes to:</dt><dd><p>/robot_pos_vel</p>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="scripts.action_client.action">
<span class="sig-prename descclassname"><span class="pre">scripts.action_client.</span></span><span class="sig-name descname"><span class="pre">action</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/action_client.html#action"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.action_client.action" title="Permalink to this definition"></a></dt>
<dd><p>Action function that handle the goal coordinates from the user input and send the goal to the planning.
While the robot is moving the user can cancel the goal pressing “c”.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.action_client.clbk_feedback">
<span class="sig-prename descclassname"><span class="pre">scripts.action_client.</span></span><span class="sig-name descname"><span class="pre">clbk_feedback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feedback</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/action_client.html#clbk_feedback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.action_client.clbk_feedback" title="Permalink to this definition"></a></dt>
<dd><p>Callback function that process the feedback from client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>feedback</strong> – feedback from the target as “Target reached!” or “Target cancelled!”.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.action_client.clbk_odom">
<span class="sig-prename descclassname"><span class="pre">scripts.action_client.</span></span><span class="sig-name descname"><span class="pre">clbk_odom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/action_client.html#clbk_odom"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.action_client.clbk_odom" title="Permalink to this definition"></a></dt>
<dd><p>Callback function that process incoming Odometry messages,
extract informations about: position x, position y, linear velocity x and
angular velocity z; Save these informations in a custom message Info()
and pubblish that informations on /robot_pos_vel topic.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – position and velocity of the robot.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.action_client.main">
<span class="sig-prename descclassname"><span class="pre">scripts.action_client.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/action_client.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.action_client.main" title="Permalink to this definition"></a></dt>
<dd><p>Main function in which the ros node is initialized and the publisher and subscriber are initialized.</p>
</dd></dl>

</section>
<section id="module-scripts.last_target_service">
<span id="last-target-service"></span><h1>Last Target Service<a class="headerlink" href="#module-scripts.last_target_service" title="Permalink to this heading"></a></h1>
<p>A service node that, when called, returns the coordinates of the last target sent by the user.</p>
<dl class="simple">
<dt>Subscribes to:</dt><dd><p>/reaching_goal/goal</p>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="scripts.last_target_service.clbk_goal">
<span class="sig-prename descclassname"><span class="pre">scripts.last_target_service.</span></span><span class="sig-name descname"><span class="pre">clbk_goal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/last_target_service.html#clbk_goal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.last_target_service.clbk_goal" title="Permalink to this definition"></a></dt>
<dd><p>Callback to return the last target coordinates to the service</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – actual target position.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.last_target_service.clbk_service">
<span class="sig-prename descclassname"><span class="pre">scripts.last_target_service.</span></span><span class="sig-name descname"><span class="pre">clbk_service</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/last_target_service.html#clbk_service"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.last_target_service.clbk_service" title="Permalink to this definition"></a></dt>
<dd><p>Callback to return the last target coordinates to the service</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> – parameter representing the request sent to the ROS service. When a client node calls the last_target service, it sends a request to the service, and this request is received as a parameter in the clbk_service function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.last_target_service.main">
<span class="sig-prename descclassname"><span class="pre">scripts.last_target_service.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/last_target_service.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.last_target_service.main" title="Permalink to this definition"></a></dt>
<dd><p>Main function in which the ros node is initialized and the publisher and subscriber are initialized.</p>
</dd></dl>

</section>
<section id="module-scripts.avg_service">
<span id="average-service"></span><h1>Average Service<a class="headerlink" href="#module-scripts.avg_service" title="Permalink to this heading"></a></h1>
<p>Service node that subscribes to the robot’s position and velocity (using the Info’s custom message) and implements a server to retrieve the distance of the robot from the target and the robot’s average speed.</p>
<dl class="simple">
<dt>Subscribes to:</dt><dd><p>/robot_pos_vel</p>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="scripts.avg_service.clbk_avg">
<span class="sig-prename descclassname"><span class="pre">scripts.avg_service.</span></span><span class="sig-name descname"><span class="pre">clbk_avg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/avg_service.html#clbk_avg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.avg_service.clbk_avg" title="Permalink to this definition"></a></dt>
<dd><p>Callback to return the:
distance between target and robot,
average of the linear velocity along x axis,
average of the angular velocity around z axis
to the service.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> – parameter representing the request sent to the ROS service. When a client node calls the last_target service, it sends a request to the service, and this request is received as a parameter in the clbk_service function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.avg_service.clbk_info">
<span class="sig-prename descclassname"><span class="pre">scripts.avg_service.</span></span><span class="sig-name descname"><span class="pre">clbk_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/avg_service.html#clbk_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.avg_service.clbk_info" title="Permalink to this definition"></a></dt>
<dd><p>Callback function that compute the average linear velocity along x axis and the average angular velocity around z axis.
Also the function compute the distance between the target and the actual robot’s postion using the Euclidean distance formula.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – position and velocity of the robot.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.avg_service.main">
<span class="sig-prename descclassname"><span class="pre">scripts.avg_service.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/avg_service.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.avg_service.main" title="Permalink to this definition"></a></dt>
<dd><p>Main function in which the ros node is initialized and the publisher and subscriber are initialized.</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Alessandro Trovatello.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>